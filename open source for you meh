--if you edit, leave the credits pls S2

local NotificationLib = {}

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

if playerGui:FindFirstChild("NotificationGui") then
    playerGui:FindFirstChild("NotificationGui"):Destroy()
end

local screenGui = Instance.new("ScreenGui")
screenGui.Name = "NotificationGui"
screenGui.ResetOnSpawn = false
screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
screenGui.Parent = playerGui

local container = Instance.new("Frame")
container.Name = "NotificationContainer"
container.Size = UDim2.new(0, 300, 1, 0)
container.Position = UDim2.new(1, -310, 0, 10)
container.BackgroundTransparency = 1
container.Parent = screenGui

local activeNotifications = {}

local function criarNotificacao(titulo, mensagem, duracao, cor)
    duracao = duracao or 5
    cor = cor or Color3.fromRGB(52, 152, 219)
    
    local notif = Instance.new("Frame")
    notif.Size = UDim2.new(1, 0, 0, 80)
    notif.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
    notif.BorderSizePixel = 0
    notif.ClipsDescendants = true

    local barra = Instance.new("Frame")
    barra.Size = UDim2.new(0, 4, 1, 0)
    barra.BackgroundColor3 = cor
    barra.BorderSizePixel = 0
    barra.Parent = notif
    
    local tituloLabel = Instance.new("TextLabel")
    tituloLabel.Size = UDim2.new(1, -50, 0, 25)
    tituloLabel.Position = UDim2.new(0, 15, 0, 8)
    tituloLabel.BackgroundTransparency = 1
    tituloLabel.Text = titulo
    tituloLabel.Font = Enum.Font.GothamBold
    tituloLabel.TextSize = 16
    tituloLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    tituloLabel.TextXAlignment = Enum.TextXAlignment.Left
    tituloLabel.Parent = notif
    
    local mensagemLabel = Instance.new("TextLabel")
    mensagemLabel.Size = UDim2.new(1, -50, 0, 40)
    mensagemLabel.Position = UDim2.new(0, 15, 0, 35)
    mensagemLabel.BackgroundTransparency = 1
    mensagemLabel.Text = mensagem
    mensagemLabel.Font = Enum.Font.Gotham
    mensagemLabel.TextSize = 14
    mensagemLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    mensagemLabel.TextXAlignment = Enum.TextXAlignment.Left
    mensagemLabel.TextYAlignment = Enum.TextYAlignment.Top
    mensagemLabel.TextWrapped = true
    mensagemLabel.Parent = notif
    
    local btnFechar = Instance.new("TextButton")
    btnFechar.Size = UDim2.new(0, 30, 0, 30)
    btnFechar.Position = UDim2.new(1, -35, 0, 5)
    btnFechar.BackgroundTransparency = 1
    btnFechar.Text = "Ã—"
    btnFechar.Font = Enum.Font.GothamBold
    btnFechar.TextSize = 20
    btnFechar.TextColor3 = Color3.fromRGB(150, 150, 150)
    btnFechar.Parent = notif
    
    local uiCorner = Instance.new("UICorner")
    uiCorner.CornerRadius = UDim.new(0, 8)
    uiCorner.Parent = notif
    
    local uiStroke = Instance.new("UIStroke")
    uiStroke.Color = Color3.fromRGB(50, 50, 50)
    uiStroke.Thickness = 1
    uiStroke.Parent = notif
    
    local yPos = 0
    for _, n in ipairs(activeNotifications) do
        if n and n.Parent then
            yPos = yPos + n.Size.Y.Offset + 10
        end
    end
    notif.Position = UDim2.new(0, 0, 0, yPos)
    notif.Parent = container
    
    table.insert(activeNotifications, notif)
    
    notif.Size = UDim2.new(1, 0, 0, 0)
    local tweenIn = TweenService:Create(notif, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
        Size = UDim2.new(1, 0, 0, 80)
    })
    tweenIn:Play()
    
    local function removerNotificacao()
        local tweenOut = TweenService:Create(notif, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.In), {
            Size = UDim2.new(1, 0, 0, 0)
        })
        tweenOut:Play()
        tweenOut.Completed:Connect(function()
            for i, n in ipairs(activeNotifications) do
                if n == notif then
                    table.remove(activeNotifications, i)
                    break
                end
            end
            
            local currentY = 0
            for _, n in ipairs(activeNotifications) do
                if n and n.Parent then
                    local tweenPos = TweenService:Create(n, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
                        Position = UDim2.new(0, 0, 0, currentY)
                    })
                    tweenPos:Play()
                    currentY = currentY + n.Size.Y.Offset + 10
                end
            end
            
            notif:Destroy()
        end)
    end
    
    btnFechar.MouseButton1Click:Connect(removerNotificacao)
    
    task.spawn(function()
        task.wait(duracao)
        if notif and notif.Parent then
            removerNotificacao()
        end
    end)
end

--ass functions

function NotificationLib:Notificar(titulo, mensagem, duracao)
    criarNotificacao(titulo, mensagem, duracao, Color3.fromRGB(52, 152, 219))
end

function NotificationLib:Sucesso(titulo, mensagem, duracao)
    criarNotificacao(titulo, mensagem, duracao, Color3.fromRGB(46, 204, 113))
end

function NotificationLib:Erro(titulo, mensagem, duracao)
    criarNotificacao(titulo, mensagem, duracao, Color3.fromRGB(231, 76, 60))
end

function NotificationLib:Aviso(titulo, mensagem, duracao)
    criarNotificacao(titulo, mensagem, duracao, Color3.fromRGB(241, 196, 15))
end

function NotificationLib:Info(titulo, mensagem, duracao)
    criarNotificacao(titulo, mensagem, duracao, Color3.fromRGB(52, 152, 219))
end

function NotificationLib:Custom(titulo, mensagem, duracao, cor)
    criarNotificacao(titulo, mensagem, duracao, cor)
end

function NotificationLib:LimparTudo()
    for _, notif in ipairs(activeNotifications) do
        if notif and notif.Parent then
            notif:Destroy()
        end
    end
    activeNotifications = {}
end
return NotificationLib
